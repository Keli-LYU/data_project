# ä¸­å›½è‚¡å¸‚æ•°æ®åˆ†æžå¹³å°

åŸºäºŽ Dash æ¡†æž¶çš„äº¤äº’å¼è‚¡å¸‚æ•°æ®åˆ†æžå’Œå¯è§†åŒ–å¹³å°ï¼Œæä¾›æ²ªæ·±ä¸¤å¸‚æŒ‡æ•°åˆ†æžã€èžèµ„èžåˆ¸æ•°æ®åˆ†æžä»¥åŠç›¸å…³æ€§åˆ†æžåŠŸèƒ½ã€‚

## User Guide

### å®‰è£…ä¾èµ–

æœ¬é¡¹ç›®éœ€è¦ Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚é¦–å…ˆå®‰è£…æ‰€éœ€çš„ Python åŒ…ï¼š

```bash
python -m pip install -r requirements.txt
```

### è¿è¡Œåº”ç”¨

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ Dashboardï¼š

```bash
python main.py
```

åº”ç”¨å¯åŠ¨åŽï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—® `http://127.0.0.1:8050` å³å¯ä½¿ç”¨ã€‚

### ä½¿ç”¨è¯´æ˜Ž

Dashboard åŒ…å«ä»¥ä¸‹å››ä¸ªä¸»è¦é¡µé¢ï¼š

1. **é¦–é¡µ**: å±•ç¤ºé¡¹ç›®ç®€ä»‹å’ŒåŠŸèƒ½æ¨¡å—å¯¼èˆª
2. **æŒ‡æ•°åˆ†æž**: æä¾›ä¸Šè¯æŒ‡æ•°å’Œæ·±è¯æˆæŒ‡çš„æ—¥çº¿ã€å‘¨çº¿ã€æœˆçº¿ K çº¿å›¾åŠè¶‹åŠ¿åˆ†æž
3. **èžèµ„èžåˆ¸åˆ†æž**: å±•ç¤ºæ²ªæ·±ä¸¤å¸‚èžèµ„èžåˆ¸ä½™é¢è¶‹åŠ¿ã€å˜åŒ–çŽ‡åŠè¯¦ç»†ç»„æˆåˆ†æž
4. **ç›¸å…³æ€§åˆ†æž**: åˆ†æžä¸Šè¯æŒ‡æ•°ä¸Žæ·±è¯æˆæŒ‡ä¹‹é—´çš„ä»·æ ¼ç›¸å…³æ€§ã€æ”¶ç›ŠçŽ‡ç›¸å…³æ€§å’ŒåŠ¨æ€ç›¸å…³æ€§

## Data

### æ•°æ®æ¥æº

æœ¬é¡¹ç›®ä½¿ç”¨çš„æ•°æ®åŒ…æ‹¬ï¼š

- `sh_index.csv`: ä¸Šè¯æŒ‡æ•°åŽ†å²æ•°æ®ï¼ˆ1990-è‡³ä»Šï¼‰
- `sz_index.csv`: æ·±è¯æˆæŒ‡åŽ†å²æ•°æ®ï¼ˆ1991-è‡³ä»Šï¼‰
- `sh_margin_trade.csv`: æ²ªå¸‚èžèµ„èžåˆ¸æ•°æ®ï¼ˆ2010-è‡³ä»Šï¼‰
- `sz_margin_trade.csv`: æ·±å¸‚èžèµ„èžåˆ¸æ•°æ®ï¼ˆ2010-è‡³ä»Šï¼‰

**æ•°æ®æ¥æº**: é˜¿é‡Œäº‘å¤©æ± å…¬å¼€æ•°æ®é›†  
**æ•°æ®é›†é“¾æŽ¥**: https://tianchi.aliyun.com/  
**ç”¨é€”**: æœ¬æ•°æ®é›†ä»…ç”¨äºŽæ•™å­¦å’Œå­¦æœ¯ç ”ç©¶ç›®çš„

> ðŸ“„ è¯¦ç»†çš„æ•°æ®æ¥æºè¯´æ˜Žè¯·å‚è§ [DATA_SOURCE.md](DATA_SOURCE.md)

### æ•°æ®å­—æ®µè¯´æ˜Ž

**æŒ‡æ•°æ•°æ®å­—æ®µ**:
- `date`: äº¤æ˜“æ—¥æœŸï¼ˆæ ¼å¼ï¼šYYYYMMDDï¼‰
- `open`: å¼€ç›˜ä»·
- `high`: æœ€é«˜ä»·
- `low`: æœ€ä½Žä»·
- `close`: æ”¶ç›˜ä»·
- `vol`: æˆäº¤é‡
- `amount`: æˆäº¤é¢

**èžèµ„èžåˆ¸æ•°æ®å­—æ®µ**:
- `date`: äº¤æ˜“æ—¥æœŸï¼ˆæ ¼å¼ï¼šYYYYMMDDï¼‰
- `financing_balance`: èžèµ„ä½™é¢
- `financing_purchase`: èžèµ„ä¹°å…¥é¢
- `financing_redeem`: èžèµ„å¿è¿˜é¢
- `securities_lending_balance`: èžåˆ¸ä½™é¢
- `securities_lending_sell`: èžåˆ¸å–å‡ºé‡
- `margin_balance`: èžèµ„èžåˆ¸ä½™é¢ï¼ˆèžèµ„ä½™é¢+èžåˆ¸ä½™é¢ï¼‰

### æ•°æ®å¤„ç†

åŽŸå§‹æ•°æ®å­˜å‚¨åœ¨ `data/raw/` ç›®å½•ï¼Œç»è¿‡æ¸…æ´—å¤„ç†åŽçš„æ•°æ®å­˜å‚¨åœ¨ `data/cleaned/` ç›®å½•ã€‚æ•°æ®å¤„ç†åŒ…æ‹¬ï¼š

- æ—¥æœŸæ ¼å¼è½¬æ¢
- æ•°æ®æŽ’åºå’Œç´¢å¼•é‡ç½®
- ç¼ºå¤±å€¼å¤„ç†
- è®¡ç®—è¡ç”ŸæŒ‡æ ‡ï¼ˆæ¶¨è·Œå¹…ã€ç§»åŠ¨å¹³å‡çº¿ç­‰ï¼‰
- æ—¶é—´åºåˆ—é‡é‡‡æ ·ï¼ˆæ—¥çº¿â†’å‘¨çº¿/æœˆçº¿ï¼‰

## Developer Guide

### é¡¹ç›®ç»“æž„

```
data_project/
â”œâ”€â”€ config.py                      # é…ç½®æ–‡ä»¶
â”œâ”€â”€ main.py                        # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ requirements.txt               # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ README.md                      # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ data/                          # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ raw/                       # åŽŸå§‹æ•°æ®
â”‚   â”‚   â”œâ”€â”€ sh_index.csv
â”‚   â”‚   â”œâ”€â”€ sz_index.csv
â”‚   â”‚   â”œâ”€â”€ sh_margin_trade.csv
â”‚   â”‚   â””â”€â”€ sz_margin_trade.csv
â”‚   â””â”€â”€ cleaned/                   # æ¸…æ´—åŽçš„æ•°æ®
â”‚       â”œâ”€â”€ sh_index_clean.csv
â”‚       â”œâ”€â”€ sz_index_clean.csv
â”‚       â”œâ”€â”€ sh_margin_clean.csv
â”‚       â””â”€â”€ sz_margin_clean.csv
â””â”€â”€ src/                           # æºä»£ç 
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ components/                # UI ç»„ä»¶
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ navbar.py              # å¯¼èˆªæ ç»„ä»¶
    â”‚   â”œâ”€â”€ index_charts.py        # æŒ‡æ•°å›¾è¡¨ç»„ä»¶
    â”‚   â”œâ”€â”€ margin_charts.py       # èžèµ„èžåˆ¸å›¾è¡¨ç»„ä»¶
    â”‚   â””â”€â”€ correlation_charts.py  # ç›¸å…³æ€§å›¾è¡¨ç»„ä»¶
    â”œâ”€â”€ pages/                     # é¡µé¢
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ home.py                # é¦–é¡µ
    â”‚   â”œâ”€â”€ index_analysis.py      # æŒ‡æ•°åˆ†æžé¡µé¢
    â”‚   â”œâ”€â”€ margin_analysis.py     # èžèµ„èžåˆ¸åˆ†æžé¡µé¢
    â”‚   â””â”€â”€ correlation.py         # ç›¸å…³æ€§åˆ†æžé¡µé¢
    â””â”€â”€ utils/                     # å·¥å…·å‡½æ•°
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ get_data.py            # æ•°æ®åŠ è½½æ¨¡å—
        â””â”€â”€ clean_data.py          # æ•°æ®æ¸…æ´—æ¨¡å—
```

### æž¶æž„è¯´æ˜Ž

é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªå±‚æ¬¡ï¼š

1. **æ•°æ®å±‚** (`src/utils/`): è´Ÿè´£æ•°æ®çš„åŠ è½½ã€æ¸…æ´—å’Œå¤„ç†
2. **ç»„ä»¶å±‚** (`src/components/`): å¯å¤ç”¨çš„å›¾è¡¨ç»„ä»¶
3. **é¡µé¢å±‚** (`src/pages/`): å„ä¸ªåŠŸèƒ½é¡µé¢åŠå…¶å›žè°ƒé€»è¾‘
4. **åº”ç”¨å±‚** (`main.py`): åº”ç”¨åˆå§‹åŒ–å’Œè·¯ç”±ç®¡ç†

```mermaid
graph TD
    A[main.py] --> B[config.py]
    A --> C[src/pages]
    C --> D[src/components]
    C --> E[src/utils]
    D --> E
    E --> F[data/raw]
    E --> G[data/cleaned]
```

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/pages/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„é¡µé¢æ–‡ä»¶ï¼Œä¾‹å¦‚ `new_page.py`
2. å®žçŽ° `create_new_page()` å‡½æ•°è¿”å›žé¡µé¢å¸ƒå±€
3. å®žçŽ° `register_new_page_callbacks(app)` å‡½æ•°æ³¨å†Œå›žè°ƒ
4. åœ¨ `main.py` ä¸­å¯¼å…¥å¹¶æ³¨å†Œæ–°é¡µé¢ï¼š
   ```python
   from src.pages.new_page import create_new_page, register_new_page_callbacks
   
   # åœ¨ display_page å‡½æ•°ä¸­æ·»åŠ è·¯ç”±
   elif pathname == '/new-page':
       return create_new_page()
   
   # åœ¨ create_app å‡½æ•°ä¸­æ³¨å†Œå›žè°ƒ
   register_new_page_callbacks(app)
   ```
5. åœ¨ `src/components/navbar.py` ä¸­æ·»åŠ å¯¼èˆªé“¾æŽ¥

### æ·»åŠ æ–°å›¾è¡¨

1. åœ¨ `src/components/` ç›®å½•ä¸‹ç›¸åº”çš„æ–‡ä»¶ä¸­æ·»åŠ æ–°çš„å›¾è¡¨å‡½æ•°
2. å›¾è¡¨å‡½æ•°åº”è¿”å›ž `plotly.graph_objects.Figure` å¯¹è±¡
3. åœ¨é¡µé¢æ–‡ä»¶ä¸­å¯¼å…¥å¹¶ä½¿ç”¨æ–°å›¾è¡¨å‡½æ•°
4. é€šè¿‡å›žè°ƒå‡½æ•°å®žçŽ°äº¤äº’åŠŸèƒ½

### ä»£ç è§„èŒƒ

- æ‰€æœ‰å‡½æ•°éƒ½åº”åŒ…å« docstring è¯´æ˜Ž
- ä½¿ç”¨ç±»åž‹æç¤ºï¼ˆtypingï¼‰å¢žå¼ºä»£ç å¯è¯»æ€§
- éµå¾ª PEP 8 ç¼–ç è§„èŒƒ
- ç»„ä»¶å‡½æ•°å‘½åä»¥ `create_` å¼€å¤´
- å›žè°ƒå‡½æ•°å‘½åä»¥ `update_` æˆ– `register_` å¼€å¤´

## Rapport d'analyse

### ä¸»è¦å‘çŽ°

1. **æ²ªæ·±æŒ‡æ•°ç›¸å…³æ€§åˆ†æž**
   - ä¸Šè¯æŒ‡æ•°ä¸Žæ·±è¯æˆæŒ‡å‘ˆçŽ°å¼ºæ­£ç›¸å…³å…³ç³»ï¼ˆç›¸å…³ç³»æ•° > 0.9ï¼‰
   - ä¸¤ä¸ªæŒ‡æ•°åœ¨é•¿æœŸè¶‹åŠ¿ä¸Šé«˜åº¦ä¸€è‡´ï¼Œåæ˜ äº†ä¸­å›½è‚¡å¸‚çš„æ•´ä½“æ€§ç‰¹å¾
   - åœ¨æŸäº›æ—¶é—´æ®µï¼ˆå¦‚2015å¹´è‚¡ç¾æœŸé—´ï¼‰ï¼Œç›¸å…³æ€§ä¼šå‡ºçŽ°çŸ­æœŸæ³¢åŠ¨

2. **èžèµ„èžåˆ¸è¶‹åŠ¿**
   - èžèµ„èžåˆ¸ä½™é¢æ•´ä½“å‘ˆä¸Šå‡è¶‹åŠ¿ï¼Œåæ˜ äº†å¸‚åœºæ æ†çš„å¢žåŠ 
   - èžèµ„ä½™é¢è¿œé«˜äºŽèžåˆ¸ä½™é¢ï¼Œè¡¨æ˜Žå¸‚åœºå‚ä¸Žè€…æ›´å€¾å‘äºŽåšå¤š
   - ä½™é¢å˜åŒ–çŽ‡ä¸Žå¸‚åœºæƒ…ç»ªå¯†åˆ‡ç›¸å…³ï¼Œåœ¨å¸‚åœºä¸Šæ¶¨æœŸé—´ä½™é¢å¢žé•¿åŠ é€Ÿ

3. **å¸‚åœºç‰¹å¾**
   - æ—¥çº¿æ•°æ®æ˜¾ç¤ºå¸‚åœºæ³¢åŠ¨æ€§è¾ƒå¤§ï¼ŒçŸ­æœŸè¶‹åŠ¿éš¾ä»¥é¢„æµ‹
   - å‘¨çº¿å’Œæœˆçº¿æ•°æ®æ›´èƒ½åæ˜ ä¸­é•¿æœŸè¶‹åŠ¿
   - ç§»åŠ¨å¹³å‡çº¿èƒ½å¤Ÿæœ‰æ•ˆåœ°å¹³æ»‘çŸ­æœŸæ³¢åŠ¨ï¼Œè¾…åŠ©è¶‹åŠ¿åˆ¤æ–­

### å¯è§†åŒ–äº®ç‚¹

- **Kçº¿å›¾**: ç›´è§‚å±•ç¤ºä»·æ ¼æ³¢åŠ¨å’Œäº¤æ˜“é‡
- **çƒ­åŠ›å›¾**: æ¸…æ™°å‘ˆçŽ°èžèµ„èžåˆ¸çš„æœˆåº¦æ¨¡å¼
- **æ»šåŠ¨ç›¸å…³æ€§**: åŠ¨æ€å±•ç¤ºä¸¤å¸‚åœºç›¸å…³æ€§çš„æ—¶é—´å˜åŒ–
- **åŒè½´å¯¹æ¯”å›¾**: æ–¹ä¾¿æ¯”è¾ƒä¸åŒé‡çº§çš„æŒ‡æ ‡

## Copyright

### åŽŸåˆ›æ€§å£°æ˜Ž

æœ¬é¡¹ç›®ä»£ç å®Œå…¨ç”±é¡¹ç›®å¼€å‘è€…åŽŸåˆ›å®Œæˆï¼ŒåŒ…æ‹¬ï¼š
- é¡¹ç›®æž¶æž„è®¾è®¡
- æ•°æ®å¤„ç†é€»è¾‘
- å¯è§†åŒ–ç»„ä»¶å®žçŽ°
- é¡µé¢å¸ƒå±€å’Œäº¤äº’è®¾è®¡

### å‚è€ƒèµ„æ–™

æœ¬é¡¹ç›®åœ¨å¼€å‘è¿‡ç¨‹ä¸­å‚è€ƒäº†ä»¥ä¸‹å®˜æ–¹æ–‡æ¡£å’Œèµ„æºï¼š

1. **Dash å®˜æ–¹æ–‡æ¡£** (https://dash.plotly.com/)
   - ç”¨é€”ï¼šå­¦ä¹  Dash æ¡†æž¶çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•å’Œç»„ä»¶ API
   - æ¶‰åŠæ–‡ä»¶ï¼š`main.py`, `src/pages/*.py`

2. **Plotly Python æ–‡æ¡£** (https://plotly.com/python/)
   - ç”¨é€”ï¼šå­¦ä¹  Plotly å›¾è¡¨çš„åˆ›å»ºå’Œé…ç½®æ–¹æ³•
   - æ¶‰åŠæ–‡ä»¶ï¼š`src/components/*_charts.py`

3. **Pandas å®˜æ–¹æ–‡æ¡£** (https://pandas.pydata.org/docs/)
   - ç”¨é€”ï¼šæ•°æ®å¤„ç†å’Œæ—¶é—´åºåˆ—æ“ä½œ
   - æ¶‰åŠæ–‡ä»¶ï¼š`src/utils/clean_data.py`

4. **Dash Bootstrap Components æ–‡æ¡£** (https://dash-bootstrap-components.opensource.faculty.ai/)
   - ç”¨é€”ï¼šä½¿ç”¨ Bootstrap é£Žæ ¼çš„ UI ç»„ä»¶
   - æ¶‰åŠæ–‡ä»¶ï¼š`src/components/navbar.py`, `src/pages/*.py`

æ‰€æœ‰ä»£ç å‡ä¸ºæ ¹æ®ä»¥ä¸Šæ–‡æ¡£å­¦ä¹ åŽç‹¬ç«‹ç¼–å†™ï¼Œæœªç›´æŽ¥å¤åˆ¶ä»»ä½•ä»£ç ç‰‡æ®µã€‚

### æ•°æ®å£°æ˜Ž

æœ¬é¡¹ç›®ä½¿ç”¨çš„æ•°æ®æ¥æºäºŽé˜¿é‡Œäº‘å¤©æ± å…¬å¼€æ•°æ®é›†å¹³å°ï¼ˆhttps://tianchi.aliyun.com/ï¼‰ï¼Œæ‰€æœ‰æ•°æ®å‡ä¸ºå…¬å¼€æ•°æ®é›†ï¼Œä»…ç”¨äºŽæ•™å­¦å’Œå­¦æœ¯ç ”ç©¶ç›®çš„ã€‚æ•°æ®çš„ä½¿ç”¨éµå¾ªé˜¿é‡Œäº‘å¤©æ± å¹³å°çš„æ•°æ®ä½¿ç”¨åè®®ã€‚

---

**é¡¹ç›®å¼€å‘**: ESIEE Paris - Python 2 Data Project  
**å¼€å‘æ—¶é—´**: 2025å¹´  
**æŠ€æœ¯æ ˆ**: Python, Dash, Plotly, Pandas, Bootstrap
=======
# data_project
data_project of python2
>>>>>>> 6668b385e97d8b1ddc543e318a736b80cb936690
